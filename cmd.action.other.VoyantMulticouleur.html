<div style="padding:0;width:70px;min-height:10px;" class="cmd reportModeHidden cmd-widget" data-type="action" data-subtype="other" data-cmd_id="#id#" data-cmd_uid="#uid#" data-version="#version#">
	<!-- Info Widget
		Créer par		: JAG
		Mise à jour 	: Mise à jour de l'explication
		Mise à jour		: JAG 20190505 : Amélioration du code (correction de bug)
	-->
	<div class="row">
		<center>
			<div class='cmdName' style="font-weight:bold;font-size:10px;#hideCmdName#;">#valueName#</div>
				<div class="content-sm">
					<span class="cursor iconCmd content-sm" title="#name#" ></span>
			</div>
		</center>
	</div>
<script>
	// Options de personnalisation avec valeur par defaut 
		// Paramètrage du logo
			// Couleur - Nom des couleurs : BK=Noir - BU=Bleu - GN=Vert - OR=Orange - RD=Rouge - WH=Blanc - YE=Jaune
				// CouleurON
					var srcImgColorON	= ('#CouleurON#'!='#'+'CouleurON#') ? "#CouleurON#" : "GN";
					var srcImglogoON_T 	= ('#logoON_type#'!='#'+'logoON_type#') ? "#logoON_type#" : "png";
				// CouleurOFF
					var srcImgColorOFF	= ('#CouleurOFF#'!='#'+'CouleurOFF#') ? "#CouleurOFF#" : "RD";
					var srcImglogoOFF_T = ('#logoOFF_type#'!='#'+'logoOFF_type#') ? "#logoOFF_type#" : "png";
			// Forme - Nom des formes : CARRE ou ROND
				// FormeON
					var srcImgFormON	= ('#FormeON#'!='#'+'FormeON#') ? "#FormeON#" : "ROND";
				// FormeOFF
					var srcImgFormOFF	= ('#FormeOFF#'!='#'+'FormeOFF#') ? "#FormeOFF#" : "ROND";     			
		// Paramétrage des images
					var srcImgURL 		= 'plugins/widget/core/template/dashboard/cmd.action.other.VoyantMulticouleur/';
					var srcImgOn 		= srcImgURL + srcImgFormON +'_'+ srcImgColorON +'.'+ srcImglogoON_T; 	// Pour Valeur = 1
					var srcImgOff 		= srcImgURL + srcImgFormOFF +'_'+ srcImgColorOFF +'.'+ srcImglogoOFF_T;  	// Pour valeur = 0 
	
      jeedom.cmd.update['#id#'] = function(_options){
		//jeedom.cmd.displayDuration(_options.valueDate,  $('.cmd[data-cmd_id=#id#] .timeCmd'));
		$('.cmd[data-cmd_id=#id#]').attr('title','Valeur du '+_options.valueDate+', collectée le '+_options.collectDate);
			if (_options.display_value == '1' || _options.display_value == 1 || _options.display_value == '99' || _options.display_value == 99 || _options.display_value == 'on') {
				if (jeedom.cmd.normalizeName('#name#') == 'on') {
					$('.cmd[data-cmd_id=#id#]').hide();
				}else{
					$('.cmd[data-cmd_id=#id#]').show();
					$('.cmd[data-cmd_id=#id#] .iconCmd').empty().append('<img src="'+srcImgOn+'"/>');
				}
			} else {
				if (jeedom.cmd.normalizeName('#name#') == 'off') {
					$('.cmd[data-cmd_id=#id#]').hide();
				}else{
					$('.cmd[data-cmd_id=#id#]').show();
					$('.cmd[data-cmd_id=#id#] .iconCmd').empty().append('<img src="'+srcImgOff+'"/>');
				}
			}
		}
	jeedom.cmd.update['#id#']({display_value:'#state#',valueDate:'#valueDate#',collectDate:'#collectDate#',alertLevel:'#alertLevel#'});
		$('.cmd[data-cmd_uid=#uid#] .iconCmd').off().on('click', function () {
			jeedom.cmd.execute({id: '#id#'});
		});     
    </script>
</div>